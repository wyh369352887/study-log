## HTTP发展历程

`HTTP/0.9`:没有HEADER,只规定了客户端和服务端的通信形式,只支持GET请求

`HTTP/1.0`:正式作为标准,传输内容格式不限制,增加了PUT、PATCH、HEAD、OPTIONS、DELETE命令

`HTTP/1.1`:增加了持久连接(Keep-Alive)和管道机制

`HTTP/2`:增加了多路复用,服务端推送,头部压缩,二进制帧数据传输等



<br/>

## HTTP/1.1 

### keep-alive

在HTTP/1.1之前,每次发请求都需要重新建立TCP连接,资源十分浪费。keep-alive允许在一定时间内,同一个域名多次请求数据,只建立一次HTTP连接,其他请求可以复用这个链接通道。

--

### 管道机制

在管道机制出现之前,每个请求都要在接收到上一个请求的响应后才能发出,而服务器在处理完第一个请求到接收到第二个请求之中的这段时间里是处于闲置的。于是,管到机制出现了,它允许浏览器将多个请求打包发送给服务器,这样服务器在处理完一个请求后可以马上开始处理下一个,但响应的接收顺序必须和请求的发出顺序一致,这样的情况下服务端为了保证按顺序回传,通常需要缓存多个响应,占用服务端资源。另外当服务端收到多个管道请求后,需要按照接收顺序逐个响应,如果第一个请求处理的特别慢,那么后续的请求都会被阻塞,这种情况称为"队首阻塞"。


<br/>

## HTTP/2

### 头部压缩

HTTP请求都是由状态行、请求/响应头、消息主体三部分组成,一般而言,消息主体都会经过gzip压缩,或者本身就是压缩后的二进制文件,其体积并不大,而状态行和头部却没有经过任何压缩,直接以文本传输,有时体积甚至比消息主体还大,所以对头部进行HPACK算法压缩,减小体积。

--

### server push

支持服务端推送,意味着服务端可以发送页面HTML时主动推送其他资源,而不必等待浏览器发送请求后再去响应。


<br/>
## HTTP状态码(仅列出常见的)

+ `1xx`:中间状态,还需要后续操作
+ `2xx`:成功状态
+ `3xx`:重定向状态,资源位置发生变动,需要重新请求
+ `4xx`:请求报文有误
+ `5xx`:服务端发生错误

### 1xx

`100(Continue)`:继续,客户端应继续其请求

`101(Switching Protocols)`:切换协议

### 2xx

`200(OK)`:请求成功,一般用于GET和POST请求

`204(No Content)`:请求成功,且不需要返回任何实体信息,响应体没有body部分

`206(Partial Content)`:服务器成功处理了部分GET请求

### 3xx

`301(Moved Permanently)`:请求的资源已被永久移动到新的URI,与302对应

`302(Found)`:请求的资源被临时移动,与301对应

`304(Not Modified)`:资源未修改,服务端返回此状态码时不会返回数据

### 4xx

`400(Bad Request)`:客户端请求语法错误或参数有误

`403(Forbidden)`:请求没有错误,但服务器拒绝执行

`404(Not Found)`:资源未找到

`408(Request Time-out)`:服务器等待客户端发送的请求时间超时

`409(Conflict)`:多个请求发生了冲突(常见于PUT方法)

`413(Request Entity Too Large)`:请求体的数据过多,服务器拒绝请求

`414(Request-URI Too Large	)`:请求的URI过长,服务器无法处理

### 5xx

`500(Internal Server Error	)`:服务器内部错误,无法完成请求

`501(Not Implemented)`:服务器不支持请求的功能,无法完成请求

`502(Bad Gateway)`:充当网关或代理的服务器，从远端服务器接收到了一个无效的请求

`503(Service Unavailable)`:服务器超载或系统维护,暂时无法处理客户端的请求

<br/>

## HTTP请求方法

+ GET：请求指定的页面信息,并返回实体主体
+ POST：向指定资源提交数据进行处理请求。数据被包含在请求体中。POST请求可能会导致新的资源的建立或已有资源的修改
+ HEAD：类似于GET请求,但返回的响应中没有具体的内容,用于获取报头
+ PUT：向客户端传送数据取代指定的内容
+ DELETE：请求服务器删除指定的内容
+ CONNECT：将服务器作为代理去访问其他内容
+ OPTIONS：获取服务器支持的HTTP请求方法以及检查服务器的性能
+ TRACE：回传服务器之前收到的请求,主要用于测试或折断
+ PATCH：实体中包含一个表，表中说明与该URI所表示的原内容的区别,主要用于部分更新
+ MOVE：请求服务器将指定的页面移至另一个网络地址
+ COPY：请求服务器将指定的页面拷贝至另一个网络地址
+ LINK：请求服务器建立链接关系
+ UNLINK：请求服务器断开链接关系
+ WRAPPED：允许客户端发送经过封装的请求
+ Extension-mothod：在不改动协议的前提下，可增加另外的方法

